{% extends "layout.html.twig" %}
{% block central %}
<!-- page start-->
<div class="col-sm-8">
	<section class="panel">
		<div class="chat-room-head">
			<h3>
				<i class="fa fa-angle-right"></i>
				Gérer les Plateformes</h3>
		</div>
		<div class="panel-body">
			<table class="table table-striped table-advance table-hover">
				<thead>
					<tr class="tableau-entete">
						<th>
							<i class="fa fa-bullhorn"></i>
							Identifiant</th>
						<th>
							<i class="fa fa-bookmark"></i>
							Libellé</th>
						<!-- <th>
							<i class="fa fa-bookmark"></i>
							Spécialiste pas besoins on fait pas
						</th> -->
						<th>
							<i class="fa fa-bookmark"></i>
							Nombre jeux</th>
						<th></th>
					</tr>
				</thead>
				<tbody>
					<!-- formulaire pour ajouter un nouveau Plateforme-->
					<tr>
						<form action="index.php?uc=gererPlateformes" method="post">
							<td>Nouveau</td>
							<td>
								<input type="text" id="txtLibPlateforme" name="txtLibPlateforme" size="24" required minlength="4" maxlength="24" placeholder="Libellé" title="De 4 à 24 caractères"/>
							</td>
							{# <td>
								<!--<?php afficherListe($tbMembres, 'lstMembre', 1, ''); ?>-->
								<!-- faire un include à la place de l'appel de fonction en PHP -->
								pas besoins car on ne fait pas de specialiste
								{% set tbObjets, name, size, idSelect = tbMembres, 'lstMembre', 1, '' %}
							{{ include('liste.html.twig') }}
						</td> #}
						</td>
							<td>
						0
						</td>
							<td>
								<button class="btn btn-primary btn-xs" type="submit" name="cmdAction" value="ajouterNouveauPlateforme" title="Enregistrer nouvelle Plateforme"> <i class="fa fa-save"></i>
							</button>
							<button class="btn btn-info btn-xs" type="reset" title="Effacer la saisie">
								<i class="fa fa-eraser"></i>
							</button>
						</td>
					</tr>
				</tbody>
			</form>
		</tr>
		{% for key, plateforme in tbPlateformes %}
			<tr>
				<!-- formulaire pour modifier et supprimer les Plateformes-->
				<form action="index.php?uc=gererPlateformes" method="post">
					<td>{{ plateforme.identifiant }}<input type="hidden" name="txtIdPlateforme" value="{{ plateforme.identifiant }}"/></td>
					<td>
						{% if plateforme.identifiant != idPlateformeModif %}
							{{ plateforme.libelle }}</td>
					</td>
					<td>
						{{plateforme.nbJeux}}
					</td>
					<td>
						{% if notification != 'rien' and plateforme.identifiant == idPlateformeNotif %}
							<button class="btn btn-success btn-xs">
								<i class="fa fa-check"></i>
								{{ notification }}</button>
						{% endif %}
						<button class="btn btn-primary btn-xs" type="submit" name="cmdAction" value="demanderModifierPlateforme" title="Modifier">
							<i class="fa fa-pencil"></i>
						</button>
						<button class="btn btn-danger btn-xs" type="submit" name="cmdAction" value="supprimerPlateforme" title="Supprimer" onclick="return confirm('Voulez-vous vraiment supprimer cette Plateforme ?');">
							<i class="fa fa-trash-o "></i>
						</button>
					</td>
				{% else %}
					<input type="text" id="txtLibPlateforme" name="txtLibPlateforme" size="24" required minlength="4" maxlength="24" value="{{ plateforme.libelle }}"/></td>
				{# <td> #}
					<!--<?php afficherListe($tbMembres, 'lstMembre', 1, $genre->idSpecialiste); ?>-->
					{# {% set tbObjets, name, size, idSelect = tbMembres, 'lstMembre', 1,
plateforme.idSpecialiste %}
					{{ include('liste.html.twig') }} #}
				{# </td> #}
				<td>
					{{ plateforme.nbJeu }}
				</td>
				<td>
					<button class="btn btn-primary btn-xs" type="submit" name="cmdAction" value="validerModifierPlateforme" title="Enregistrer">
						<i class="fa fa-save"></i>
					</button>
					<button class="btn btn-info btn-xs" type="reset" title="Effacer la saisie">
						<i class="fa fa-eraser"></i>
					</button>
					<button class="btn btn-warning btn-xs" type="submit" name="cmdAction" value="annulerModifierPlateforme" title="Annuler">
						<i class="fa fa-undo"></i>
					</button>
				</td>
			{% endif %}
		</form>
	</tbody>
</tr>{% endfor %}</tbody></table></div><!-- fin div panel-body--></td></tr></section><!-- fin section Plateformes--></tbody></div><!--fin div col-sm-8-->{% endblock %}
